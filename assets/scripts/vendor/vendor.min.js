!function(t,e,i,n){"use strict";function r(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(o(t,i[e],i),!0):!1}function o(t,e,i){var r,s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(r=0,s=t.length;s>r;r++)e.call(i,t[r],r,t);else for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function a(t,e,i){for(var r=Object.keys(e),s=0,o=r.length;o>s;s++)(!i||i&&t[r[s]]===n)&&(t[r[s]]=e[r[s]]);return t}function h(t,e){return a(t,e,!0)}function l(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&a(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ae?t.apply(e?e[0]||n:n,e):t}function d(t,e){return t===n?e:t}function p(t,e,i){o(m(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){o(m(e),function(e){t.removeEventListener(e,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function b(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(i&&t[n][i]==e||!i&&t[n]===e)return n;return-1}function y(t){return Array.prototype.slice.call(t,0)}function I(t,e,i){for(var n=[],r=[],s=0,o=t.length;o>s;s++){var a=e?t[s][e]:t[s];b(r,a)<0&&n.push(t[s]),r[s]=a}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function x(t,e){for(var i,r,s=e[0].toUpperCase()+e.slice(1),o=0,a=se.length;a>o;o++)if(i=se[o],r=i?i+s:e,r in t)return r;return n}function T(){return ue++}function w(e,i){var n=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&n.handler(t)},this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(t,this.evWin,this.domHandler)}function C(t){var e;return new(e=fe?F:ve?M:pe?Y:L)(t,E)}function E(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&xe&&n-r===0,o=e&(we|Ce)&&n-r===0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,_(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function _(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=D(e)),r>1&&!i.firstMultiple?i.firstMultiple=D(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=k(n);e.timeStamp=ce(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=O(a,h),e.distance=P(a,h),A(i,e),e.offsetDirection=z(e.deltaX,e.deltaY),e.scale=o?R(o.pointers,n):1,e.rotation=o?S(o.pointers,n):0,$(i,e);var l=t.element;v(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function A(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};(e.eventType===xe||s.eventType===we)&&(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function $(t,e){var i,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Ce&&(h>Ie||a.velocity===n)){var l=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,u=N(h,l,c);r=u.x,s=u.y,i=le(u.x)>le(u.y)?u.x:u.y,o=z(l,c),t.lastInterval=e}else i=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=r,e.velocityY=s,e.direction=o}function D(t){for(var e=[],i=0;i<t.pointers.length;i++)e[i]={clientX:he(t.pointers[i].clientX),clientY:he(t.pointers[i].clientY)};return{timeStamp:ce(),pointers:e,center:k(e),deltaX:t.deltaX,deltaY:t.deltaY}}function k(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var i=0,n=0,r=0;e>r;r++)i+=t[r].clientX,n+=t[r].clientY;return{x:he(i/e),y:he(n/e)}}function N(t,e,i){return{x:e/t||0,y:i/t||0}}function z(t,e){return t===e?Ee:le(t)>=le(e)?t>0?_e:Ae:e>0?$e:De}function P(t,e,i){i||(i=Pe);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function O(t,e,i){i||(i=Pe);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function S(t,e){return O(e[1],e[0],Oe)-O(t[1],t[0],Oe)}function R(t,e){return P(e[0],e[1],Oe)/P(t[0],t[1],Oe)}function L(){this.evEl=Re,this.evWin=Le,this.allow=!0,this.pressed=!1,w.apply(this,arguments)}function F(){this.evEl=Xe,this.evWin=Ye,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function M(){this.evTarget=We,this.targetIds={},w.apply(this,arguments)}function X(t,e){var i=y(t.touches),n=this.targetIds;if(e&(xe|Te)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=y(t.targetTouches),a=y(t.changedTouches),h=[];if(e===xe)for(r=0,s=o.length;s>r;r++)n[o[r].identifier]=!0;for(r=0,s=a.length;s>r;r++)n[a[r].identifier]&&h.push(a[r]),e&(we|Ce)&&delete n[a[r].identifier];return h.length?[I(o.concat(h),"identifier",!0),h]:void 0}function Y(){w.apply(this,arguments);var t=c(this.handler,this);this.touch=new M(this.manager,t),this.mouse=new L(this.manager,t)}function q(t,e){this.manager=t,this.set(e)}function W(t){if(g(t,Ve))return Ve;var e=g(t,Ge),i=g(t,Ze);return e&&i?Ge+" "+Ze:e||i?e?Ge:Ze:g(t,Ke)?Ke:Be}function H(t){this.id=T(),this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=Qe,this.simultaneous={},this.requireFail=[]}function U(t){return t&ni?"cancel":t&ei?"end":t&ti?"move":t&Je?"start":""}function j(t){return t==De?"down":t==$e?"up":t==_e?"left":t==Ae?"right":""}function B(t,e){var i=e.manager;return i?i.get(t):t}function K(){H.apply(this,arguments)}function V(){K.apply(this,arguments),this.pX=null,this.pY=null}function G(){K.apply(this,arguments)}function Z(){H.apply(this,arguments),this._timer=null,this._input=null}function Q(){K.apply(this,arguments)}function J(){K.apply(this,arguments)}function te(){H.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ee(t,e){return e=e||{},e.recognizers=d(e.recognizers,ee.defaults.preset),new ie(t,e)}function ie(t,e){e=e||{},this.options=h(e,ee.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.touchAction=new q(this,this.options.touchAction),ne(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[2])},this)}function ne(t,e){var i=t.element;o(t.options.cssProps,function(t,n){i.style[x(i.style,n)]=e?t:""})}function re(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var se=["","webkit","moz","MS","ms","o"],oe=e.createElement("div"),ae="function",he=Math.round,le=Math.abs,ce=Date.now,ue=1,de=/mobile|tablet|ip(ad|hone|od)|android/i,pe="ontouchstart"in t,fe=x(t,"PointerEvent")!==n,ve=pe&&de.test(navigator.userAgent),ge="touch",me="pen",be="mouse",ye="kinect",Ie=25,xe=1,Te=2,we=4,Ce=8,Ee=1,_e=2,Ae=4,$e=8,De=16,ke=_e|Ae,Ne=$e|De,ze=ke|Ne,Pe=["x","y"],Oe=["clientX","clientY"];w.prototype={handler:function(){},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(t,this.evWin,this.domHandler)}};var Se={mousedown:xe,mousemove:Te,mouseup:we},Re="mousedown",Le="mousemove mouseup";l(L,w,{handler:function(t){var e=Se[t.type];e&xe&&0===t.button&&(this.pressed=!0),e&Te&&1!==t.which&&(e=we),this.pressed&&this.allow&&(e&we&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:be,srcEvent:t}))}});var Fe={pointerdown:xe,pointermove:Te,pointerup:we,pointercancel:Ce,pointerout:Ce},Me={2:ge,3:me,4:be,5:ye},Xe="pointerdown",Ye="pointermove pointerup pointercancel";t.MSPointerEvent&&(Xe="MSPointerDown",Ye="MSPointerMove MSPointerUp MSPointerCancel"),l(F,w,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Fe[n],s=Me[t.pointerType]||t.pointerType,o=s==ge;r&xe&&(0===t.button||o)?e.push(t):r&(we|Ce)&&(i=!0);var a=b(e,t.pointerId,"pointerId");0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var qe={touchstart:xe,touchmove:Te,touchend:we,touchcancel:Ce},We="touchstart touchmove touchend touchcancel";l(M,w,{handler:function(t){var e=qe[t.type],i=X.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ge,srcEvent:t})}}),l(Y,w,{handler:function(t,e,i){var n=i.pointerType==ge,r=i.pointerType==be;if(n)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(we|Ce)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var He=x(oe.style,"touchAction"),Ue=He!==n,je="compute",Be="auto",Ke="manipulation",Ve="none",Ge="pan-x",Ze="pan-y";q.prototype={set:function(t){t==je&&(t=this.compute()),Ue&&(this.manager.element.style[He]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),W(t.join(" "))},preventDefaults:function(t){if(!Ue){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,r=g(n,Ve),s=g(n,Ze),o=g(n,Ge);return r||s&&o||s&&i&ke||o&&i&Ne?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Qe=1,Je=2,ti=4,ei=8,ii=ei,ni=16,ri=32;H.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=B(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=B(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=B(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=B(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?U(n):""),t)}var i=this,n=this.state;ei>n&&e(!0),e(),n>=ei&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ri)},canEmit:function(){for(var t=0;t<this.requireFail.length;t++)if(!(this.requireFail[t].state&(ri|Qe)))return!1;return!0},recognize:function(t){var e=a({},t);return u(this.options.enable,[this,e])?(this.state&(ii|ni|ri)&&(this.state=Qe),this.state=this.process(e),void(this.state&(Je|ti|ei|ni)&&this.tryEmit(e))):(this.reset(),void(this.state=ri))},process:function(){},getTouchAction:function(){},reset:function(){}},l(K,H,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Je|ti),r=this.attrTest(t);return n&&(i&Ce||!r)?e|ni:n||r?i&we?e|ei:e&Je?e|ti:Je:ri}}),l(V,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:ze},getTouchAction:function(){var t=this.options.direction;if(t===ze)return[Ve];var e=[];return t&ke&&e.push(Ze),t&Ne&&e.push(Ge),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&ke?(r=0===s?Ee:0>s?_e:Ae,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?Ee:0>o?$e:De,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&Je||!(this.state&Je)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=j(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(G,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ve]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Je)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(Z,H,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Be]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(we|Ce)&&!s)this.reset();else if(t.eventType&xe)this.reset(),this._timer=r(function(){this.state=ii,this.tryEmit()},e.time,this);else if(t.eventType&we)return ii;return ri},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ii&&(t&&t.eventType&we?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ce(),this.manager.emit(this.options.event,this._input)))}}),l(Q,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ve]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Je)}}),l(J,K,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:ke|Ne,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(ke|Ne)?e=t.velocity:i&ke?e=t.velocityX:i&Ne&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&le(e)>this.options.velocity&&t.eventType&we},emit:function(t){var e=j(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(te,H,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Ke]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&xe&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=we)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||P(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ii,this.tryEmit()},e.interval,this),Je):ii}return ri},failTimeout:function(){return this._timer=r(function(){this.state=ri},this.options.interval,this),ri},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ii&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ee.VERSION="2.0.2",ee.defaults={domEvents:!1,touchAction:je,inputTarget:null,enable:!0,preset:[[Q,{enable:!1}],[G,{enable:!1},["rotate"]],[J,{direction:ke}],[V,{direction:ke},["swipe"]],[te],[te,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var si=1,oi=2;ie.prototype={set:function(t){return a(this.options,t),this},stop:function(t){this.session.stopped=t?oi:si},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ii)&&(r=e.curRecognizer=null);for(var s=0,o=n.length;o>s;s++)i=n[s],e.stopped===oi||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Je|ti|ei)&&(r=e.curRecognizer=i)}},get:function(t){if(t instanceof H)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return o(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return o(m(t),function(t){e?i[t].splice(b(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&re(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0,r=i.length;r>n;n++)i[n](e)}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(ee,{INPUT_START:xe,INPUT_MOVE:Te,INPUT_END:we,INPUT_CANCEL:Ce,STATE_POSSIBLE:Qe,STATE_BEGAN:Je,STATE_CHANGED:ti,STATE_ENDED:ei,STATE_RECOGNIZED:ii,STATE_CANCELLED:ni,STATE_FAILED:ri,DIRECTION_NONE:Ee,DIRECTION_LEFT:_e,DIRECTION_RIGHT:Ae,DIRECTION_UP:$e,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:ke,DIRECTION_VERTICAL:Ne,DIRECTION_ALL:ze,Manager:ie,Input:w,TouchAction:q,Recognizer:H,AttrRecognizer:K,Tap:te,Pan:V,Swipe:J,Pinch:G,Rotate:Q,Press:Z,on:p,off:f,each:o,merge:h,extend:a,inherit:l,bindFn:c,prefixed:x}),typeof define==ae&&define.amd?define(function(){return ee}):"undefined"!=typeof module&&module.exports?module.exports=ee:t[i]=ee}(window,document,"Hammer"),function(){var t=jQuery,e=function(){function t(){this.fadeDuration=0,this.fitImagesInViewport=!0,this.resizeDuration=0,this.positionFromTop=0,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!0}return t.prototype.albumLabel=function(t,e){return"Image "+t+" of "+e},t}(),i=function(){function e(t){this.options=t,this.album=[],this.currentImageIndex=void 0,this.init()}return e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return e.start(t(i.currentTarget)),t(".lightbox").addClass("open"),t("body").css("overflow","hidden"),t(".arrows").addClass("visible"),!1})},e.prototype.build=function(){var e=this;t("<div id='lightboxOverlay' class='lightboxOverlay'><div class='spinner-white'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image fade-img' src='' /><div class='lb-nav'><a class='lb-prev' ></a><a class='lb-next'></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div></div></div></div>").appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),t("body").css("overflow","auto"),t(".lb-next").removeClass("activated"),t(".lb-prev").removeClass("activated"),t(".work__info").removeClass("is-active"),t(".work__info--description").removeClass("is-open"),t(".arrows").removeClass("visible"),!1}),this.$lightbox.hide().on("click",function(i){return"lightbox"===t(i.target).attr("id")&&(e.end(),t("body").css("overflow","auto"),t(".lb-next").removeClass("activated"),t(".lb-prev").removeClass("activated"),t(".work__info").removeClass("is-active"),t(".work__info--description").removeClass("is-open"),t(".arrows").removeClass("visible")),!1}),this.$outerContainer.on("click",function(i){return"lightbox"===t(i.target).attr("id")&&(e.end(),t("body").css("overflow","auto"),t(".lb-next").removeClass("activated"),t(".lb-prev").removeClass("activated"),t(".work__info").removeClass("is-active"),t(".work__info--description").removeClass("is-open"),t(".arrows").removeClass("visible")),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return e.changeImage(0===e.currentImageIndex?e.album.length-1:e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.changeImage(e.currentImageIndex===e.album.length-1?0:e.currentImageIndex+1),!1}),t(".arrows").find(".prev-pic").on("click",function(){return e.changeImage(0===e.currentImageIndex?e.album.length-1:e.currentImageIndex-1),!1}),t(".arrows").find(".next-pic").on("click",function(){return e.changeImage(e.currentImageIndex===e.album.length-1?0:e.currentImageIndex+1),!1}),Hammer(this.$lightbox.get(0)).on("swipeleft",function(){return e.changeImage(e.currentImageIndex===e.album.length-1?0:e.currentImageIndex+1),!1}),Hammer(this.$lightbox.get(0)).on("swiperight",function(){return e.changeImage(0===e.currentImageIndex?e.album.length-1:e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),t(".lightbox").removeClass("open"),t("body").css("overflow","auto"),t(".lb-next").removeClass("activated"),t(".lb-prev").removeClass("activated"),t(".work__info").removeClass("is-active"),t(".work__info--description").removeClass("is-open"),t(".arrows").removeClass("visible"),!1})},e.prototype.start=function(e){function i(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this,r=t(window);r.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var s,o=0,a=e.attr("data-lightbox");if(a){s=t(e.prop("tagName")+'[data-lightbox="'+a+'"]');for(var h=0;h<s.length;h=++h)i(t(s[h])),s[h]===e[0]&&(o=h)}else if("lightbox"===e.attr("rel"))i(e);else{s=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var l=0;l<s.length;l=++l)i(t(s[l])),s[l]===e[0]&&(o=l)}var c=(r.scrollTop()+this.options.positionFromTop,r.scrollLeft());this.$lightbox.css({top:"51%",left:c+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(o)},e.prototype.changeImage=function(e){var i=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn(),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var r=new Image;r.onload=function(){var s,o,a,h,l,c,u;n.attr("src",i.album[e].link),s=t(r),n.width(r.width),n.height(r.height),i.options.fitImagesInViewport&&(u=t(window).width(),c=t(window).height(),l=u-i.containerLeftPadding-i.containerRightPadding-20,h=c-i.containerTopPadding-i.containerBottomPadding-120,(r.width>l||r.height>h)&&(r.width/l>r.height/h?(a=l,o=parseInt(r.height/(r.width/a),10),n.width(a),n.height(o)):(o=h,a=parseInt(r.width/(r.height/o),10),n.width(a),n.height(o)))),i.sizeContainer(n.width(),n.height())},r.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(window).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function i(){n.$lightbox.find(".lb-dataContainer").width(o),n.$lightbox.find(".lb-prevLink").height(a),n.$lightbox.find(".lb-nextLink").height(a),n.showImage()}var n=this,r=this.$outerContainer.outerWidth(),s=this.$outerContainer.outerHeight(),o=t+this.containerLeftPadding+this.containerRightPadding,a=e+this.containerTopPadding+this.containerBottomPadding;r!==o||s!==a?this.$outerContainer.animate({width:o,height:a},this.options.resizeDuration,"swing",function(){i()}):i()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn(2e3),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(e){var i=27,n=37,r=39,s=e.keyCode,o=String.fromCharCode(s).toLowerCase();return s===i||o.match(/x|o|c/)?(this.end(),t(".lightbox").removeClass("open"),t("body").css("overflow","auto"),t(".lb-next").removeClass("activated"),t(".lb-prev").removeClass("activated"),t(".work__info").removeClass("is-active"),t(".work__info--description").removeClass("is-open"),t(".arrows").removeClass("visible"),!1):void("p"===o||s===n?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===o||s===r)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0)))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"})},e}();t(function(){{var t=new e;new i(t)}})}.call(this);